const ResponseCode={Success:0,InternalServerError:1,ForbiddenDomain:2,TakenID:3,InvalidURL:4};$(document).ready(function(){var e=!1;$("#custom-url-button").click(function(){e?($("#custom-url").hide(),$("#custom-url-button .up").hide(),$("#custom-url-button .down").show()):($("#custom-url").show(),$("#custom-url-button .up").show(),$("#custom-url-button .down").hide()),e=!e}),$("#footer").click(function(){$("#download")[0].scrollIntoView()}),$("#shorten-button").click(function(){var t=$("#url").val(),o=$("#custom-url").val();if(t.toLowerCase().includes("qshr.tn"))return M.toast({html:"Copied "+t+" to clipboard."}),document.getElementById("url").select(),void document.execCommand("copy");var n=-1;$.ajax({url:"/new/",type:"POST",async:!1,contentType:"application/json; charset=utf-8",data:JSON.stringify(e?{URL:t,ID:o}:{URL:t}),dataType:"json",success:function(e){switch(n=e.Code,e.Code){case ResponseCode.Success:$("#url").val("https://qshr.tn/"+e.ID);break;case ResponseCode.InternalServerError:M.toast({html:"Internal server error."});break;case ResponseCode.ForbiddenDomain:M.toast({html:"You can not shorten qshr.tn links."});break;case ResponseCode.TakenID:M.toast({html:"That custom link has already been taken."});break;case ResponseCode.InvalidURL:M.toast({html:"That is not a valid URL."})}}}),0===n&&(document.getElementById("url").select(),document.execCommand("copy"),M.toast({html:"Copied "+$("#url").val()+" to clipboard."}))})});